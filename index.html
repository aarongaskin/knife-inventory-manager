<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knife Inventory Manager v22 - Working Sales Sheets</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; background: white; border-radius: 10px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); overflow: hidden; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .nav-tabs { display: flex; flex-wrap: wrap; background: #f8f9fa; border-bottom: 2px solid #e0e0e0; overflow-x: auto; }
        .nav-tabs button { background: none; border: none; padding: 15px 20px; font-size: 14px; font-weight: 500; cursor: pointer; color: #666; transition: all 0.3s ease; border-bottom: 3px solid transparent; white-space: nowrap; }
        .nav-tabs button:hover { background: #e8e8e8; color: #667eea; }
        .nav-tabs button.active { color: #667eea; border-bottom-color: #667eea; }
        .tab-content { padding: 30px; display: none; overflow-x: auto; }
        .tab-content.active { display: block; }
        h2 { color: #333; margin-bottom: 20px; font-size: 1.8em; border-bottom: 2px solid #667eea; padding-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        thead { background: #667eea; color: white; }
        th, td { padding: 12px 15px; text-align: left; border: 1px solid #ddd; }
        input { width: 100%; padding: 8px 12px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px; box-sizing: border-box; }
        input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 5px rgba(102,126,234,0.3); }
        input[readonly] { background: #f8f9fa; color: #666; cursor: not-allowed; }
        .total-row { font-weight: 700; background: #eef2ff; border-top: 2px solid #667eea; }
        .revenue-row { font-weight: 700; background: #c8e6c9; }
        .cuts-row { font-weight: 700; background: #fff3cd; }
        .nav-link { display: inline-block; margin: 5px 5px 5px 0; padding: 10px 15px; background: white; border: 2px solid #667eea; color: #667eea; border-radius: 5px; cursor: pointer; font-weight: 500; transition: all 0.3s; }
        .nav-link:hover { background: #667eea; color: white; }
        .nav-link.red { border-color: #ff6b6b; color: #ff6b6b; }
        .nav-link.red:hover { background: #ff6b6b; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
        .modal.active { display: flex; align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 30px; border-radius: 10px; max-width: 400px; width: 90%; }
        .modal-content h3 { margin-bottom: 20px; color: #333; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: #333; }
        .form-group input { width: 100%; }
        .modal-buttons { display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px; }
        .modal-buttons button { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: 500; }
        .btn-cancel { background: #e0e0e0; color: #333; }
        .btn-cancel:hover { background: #d0d0d0; }
        .btn-create { background: #667eea; color: white; }
        .btn-create:hover { background: #5568d3; }
        .inventory-section { background: #e8f5e9; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .inventory-section h3 { color: #2e7d32; margin-bottom: 15px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Knife Inventory Manager v22 - Working Sales Sheets</h1>
            <p>Sales Sheets Fully Integrated & Functional</p>
            <button class="nav-link" onclick="saveToStorage()" style="margin-top: 15px;">üíæ Save All Data</button>
        </div>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="openTab(event, 'pop-nav')">Pop Navigation</button>
            <button class="tab-btn" onclick="openTab(event, 'aaron-nav')">Aaron Navigation</button>
            <button class="tab-btn" onclick="openTab(event, 'pop-inv')">Pop Inventory</button>
            <button class="tab-btn" onclick="openTab(event, 'aaron-inv')">Aaron Inventory</button>
        </div>

        <!-- Pop Navigation -->
        <div id="pop-nav" class="tab-content active">
            <h2>Pop's Sales Sheets</h2>
            <button class="nav-link" onclick="openCreatePopSheetModal()" style="margin-bottom: 20px;">‚ûï New Sales Sheet</button>
            <button class="nav-link red" onclick="openDeletePopSheetModal()">üóëÔ∏è Delete Sheet</button>
            <div id="pop-sheets-list" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                <p style="color: #999;">No sales sheets yet. Create one to get started.</p>
            </div>
        </div>

        <!-- Aaron Navigation -->
        <div id="aaron-nav" class="tab-content">
            <h2>Aaron's Sales Sheets</h2>
            <button class="nav-link" onclick="openCreateAaronSheetModal()" style="margin-bottom: 20px;">‚ûï New Sales Sheet</button>
            <button class="nav-link red" onclick="openDeleteAaronSheetModal()">üóëÔ∏è Delete Sheet</button>
            <div id="aaron-sheets-list" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                <p style="color: #999;">No sales sheets yet. Create one to get started.</p>
            </div>
        </div>

        <!-- Pop Inventory -->
        <div id="pop-inv" class="tab-content">
            <h2>Pop's Inventory</h2>
            <div class="inventory-section">
                <h3>üì¶ Inventory Management</h3>
                <button class="nav-link" onclick="openPopAddModal()">Add Received</button>
                <button class="nav-link" onclick="openPopMoveModal()" style="background: #ff9800; border-color: #ff9800; color: white;">Move to Show Tub</button>
                <button class="nav-link red" onclick="openPopRemoveModal()">Remove (Lost/Damaged)</button>
            </div>
            <table>
                <thead>
                    <tr><th>Product</th><th>Price</th><th>Storage</th><th>Show Tub</th></tr>
                </thead>
                <tbody id="pop-inv-table">
                    <!-- Generated -->
                </tbody>
            </table>
        </div>

        <!-- Aaron Inventory -->
        <div id="aaron-inv" class="tab-content">
            <h2>Aaron's Inventory</h2>
            <div class="inventory-section">
                <h3>üì¶ Inventory Management</h3>
                <button class="nav-link" onclick="openAaronAddModal()">Add Received</button>
                <button class="nav-link" onclick="openAaronMoveModal()" style="background: #ff9800; border-color: #ff9800; color: white;">Move to Show Tub</button>
                <button class="nav-link red" onclick="openAaronRemoveModal()">Remove (Lost/Damaged)</button>
            </div>
            <table>
                <thead>
                    <tr><th>Product</th><th>Price</th><th>Storage</th><th>Show Tub</th></tr>
                </thead>
                <tbody id="aaron-inv-table">
                    <!-- Generated -->
                </tbody>
            </table>
        </div>

        <!-- Sales Sheet Container -->
        <div id="sheet-container"></div>
    </div>

    <!-- Create Pop Sheet Modal -->
    <div id="createPopModal" class="modal">
        <div class="modal-content">
            <h3>Create Pop Sales Sheet</h3>
            <div class="form-group">
                <label>Sheet Name</label>
                <input type="text" id="popSheetName" placeholder="e.g., Wetumpka 12/12-13">
            </div>
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeCreatePopSheetModal()">Cancel</button>
                <button class="btn-create" onclick="createPopSheet()">Create</button>
            </div>
        </div>
    </div>

    <!-- Create Aaron Sheet Modal -->
    <div id="createAaronModal" class="modal">
        <div class="modal-content">
            <h3>Create Aaron Sales Sheet</h3>
            <div class="form-group">
                <label>Sheet Name</label>
                <input type="text" id="aaronSheetName" placeholder="e.g., Event Name">
            </div>
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeCreateAaronSheetModal()">Cancel</button>
                <button class="btn-create" onclick="createAaronSheet()">Create</button>
            </div>
        </div>
    </div>

    <!-- Delete Pop Sheet Modal -->
    <div id="deletePopModal" class="modal">
        <div class="modal-content">
            <h3>Delete Pop Sheet</h3>
            <div class="form-group">
                <label>Select Sheet</label>
                <select id="popSheetSelect"></select>
            </div>
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeDeletePopSheetModal()">Cancel</button>
                <button class="btn-create" style="background: #ff6b6b;" onclick="deletePopSheet()">Delete</button>
            </div>
        </div>
    </div>

    <!-- Delete Aaron Sheet Modal -->
    <div id="deleteAaronModal" class="modal">
        <div class="modal-content">
            <h3>Delete Aaron Sheet</h3>
            <div class="form-group">
                <label>Select Sheet</label>
                <select id="aaronSheetSelect"></select>
            </div>
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeDeleteAaronSheetModal()">Cancel</button>
                <button class="btn-create" style="background: #ff6b6b;" onclick="deleteAaronSheet()">Delete</button>
            </div>
        </div>
    </div>

    <script>
        const PRODUCTS = ['Full Tang', '8" Rat', '6" Rat', '8" Stag', '6" Stag', 'Grooved', 'Folders', 'Clipped Folder'];
        
        let data = {
            popInventory: [314, 112, 164, 91, 132, 17, 66, 18],
            popShowTub: [0, 0, 0, 0, 0, 0, 0, 0],
            popPrices: [0, 0, 0, 0, 0, 0, 0, 0],
            aaronInventory: [0, 0, 0, 0, 0, 0, 0, 0],
            aaronShowTub: [0, 0, 0, 0, 0, 0, 0, 0],
            aaronPrices: [0, 0, 0, 0, 0, 0, 0, 0],
            popSheets: {},
            aaronSheets: {}
        };

        function initUI() {
            // Build inventory tables
            let popTable = '';
            let aaronTable = '';
            for (let i = 0; i < 8; i++) {
                popTable += `<tr>
                    <td>${PRODUCTS[i]}</td>
                    <td><input type="number" class="pop-price" data-idx="${i}" step="0.01" min="0" onchange="saveToStorage()"></td>
                    <td><input type="number" class="pop-storage" data-idx="${i}" readonly></td>
                    <td><input type="number" class="pop-show" data-idx="${i}" onchange="saveToStorage()"></td>
                </tr>`;
                aaronTable += `<tr>
                    <td>${PRODUCTS[i]}</td>
                    <td><input type="number" class="aaron-price" data-idx="${i}" step="0.01" min="0" onchange="saveToStorage()"></td>
                    <td><input type="number" class="aaron-storage" data-idx="${i}" readonly></td>
                    <td><input type="number" class="aaron-show" data-idx="${i}" onchange="saveToStorage()"></td>
                </tr>`;
            }
            document.getElementById('pop-inv-table').innerHTML = popTable;
            document.getElementById('aaron-inv-table').innerHTML = aaronTable;
            loadFromStorage();
            updateInventoryDisplay();
            updatePopSheetsList();
            updateAaronSheetsList();
        }

        function openTab(evt, tabName) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            if (evt) evt.currentTarget.classList.add('active');
        }

        function updateInventoryDisplay() {
            for (let i = 0; i < 8; i++) {
                document.querySelector(`.pop-price[data-idx="${i}"]`).value = data.popPrices[i];
                document.querySelector(`.pop-storage[data-idx="${i}"]`).value = data.popInventory[i];
                document.querySelector(`.pop-show[data-idx="${i}"]`).value = data.popShowTub[i];
                
                document.querySelector(`.aaron-price[data-idx="${i}"]`).value = data.aaronPrices[i];
                document.querySelector(`.aaron-storage[data-idx="${i}"]`).value = data.aaronInventory[i];
                document.querySelector(`.aaron-show[data-idx="${i}"]`).value = data.aaronShowTub[i];
            }
        }

        // POP SHEET FUNCTIONS
        function updatePopSheetsList() {
            const list = document.getElementById('pop-sheets-list');
            const sheets = Object.keys(data.popSheets);
            if (sheets.length === 0) {
                list.innerHTML = '<p style="color: #999;">No sales sheets yet.</p>';
                return;
            }
            let html = '';
            sheets.forEach(id => {
                html += `<button class="nav-link" onclick="viewPopSheet('${id}')" style="margin-bottom: 5px;">${data.popSheets[id].name}</button>`;
            });
            list.innerHTML = html;
        }

        function openCreatePopSheetModal() {
            document.getElementById('popSheetName').value = '';
            document.getElementById('createPopModal').classList.add('active');
        }

        function closeCreatePopSheetModal() {
            document.getElementById('createPopModal').classList.remove('active');
        }

        function createPopSheet() {
            const name = document.getElementById('popSheetName').value.trim();
            if (!name) {
                alert('Please enter a sheet name');
                return;
            }
            const sheetId = 'pop-' + Date.now();
            data.popSheets[sheetId] = {
                name,
                postShow: [0, 0, 0, 0, 0, 0, 0, 0]
            };
            alert('‚úÖ Pop sheet created!');
            saveToStorage();
            closeCreatePopSheetModal();
            updatePopSheetsList();
        }

        function viewPopSheet(sheetId) {
            const sheet = data.popSheets[sheetId];
            if (!sheet) return;
            
            let html = `<div class="tab-content active" style="padding: 30px;">
                <button class="nav-link" onclick="backToPopNav()" style="margin-bottom: 20px;">‚Üê Back to Pop Navigation</button>
                <h2>${sheet.name} - Sales Tracking</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Knives Brought</th>
                            <th>Post Show</th>
                            <th>Knives Sold</th>
                            <th>Unit Price</th>
                            <th>Line Revenue</th>
                        </tr>
                    </thead>
                    <tbody>`;

            let totalSold = 0, totalRevenue = 0;
            for (let i = 0; i < 8; i++) {
                const brought = parseInt(data.popShowTub[i]) || 0;
                const postShow = sheet.postShow[i] || 0;
                const sold = brought - postShow;
                const price = parseFloat(data.popPrices[i]) || 0;
                const lineRev = sold * price;
                
                totalSold += sold;
                totalRevenue += lineRev;

                html += `<tr>
                    <td>${PRODUCTS[i]}</td>
                    <td><input type="number" value="${brought}" readonly></td>
                    <td><input type="number" value="${postShow}" data-sheet="${sheetId}" data-idx="${i}" class="post-show-pop" onchange="updatePopSheet('${sheetId}', ${i})"></td>
                    <td><input type="number" value="${sold}" readonly></td>
                    <td><input type="number" value="${price.toFixed(2)}" readonly></td>
                    <td><input type="number" value="${lineRev.toFixed(2)}" readonly></td>
                </tr>`;
            }

            html += `</tbody>
                </table>
                <table>
                    <tbody>
                        <tr class="total-row">
                            <td colspan="3"><strong>Total Knives Sold</strong></td>
                            <td><input type="number" value="${totalSold}" readonly></td>
                            <td colspan="2"></td>
                        </tr>
                        <tr class="revenue-row">
                            <td colspan="4"><strong>Total Revenue</strong></td>
                            <td colspan="2"><input type="number" value="${totalRevenue.toFixed(2)}" readonly></td>
                        </tr>
                    </tbody>
                </table>
            </div>`;

            document.getElementById('sheet-container').innerHTML = html;
            document.getElementById('sheet-container').style.display = 'block';
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.querySelector('#sheet-container .tab-content').style.display = 'block';
        }

        function updatePopSheet(sheetId, idx) {
            const input = document.querySelector(`.post-show-pop[data-sheet="${sheetId}"][data-idx="${idx}"]`);
            const postShow = parseInt(input.value) || 0;
            data.popSheets[sheetId].postShow[idx] = postShow;
            saveToStorage();
            viewPopSheet(sheetId);
        }

        function backToPopNav() {
            document.getElementById('sheet-container').innerHTML = '';
            document.getElementById('sheet-container').style.display = 'none';
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById('pop-nav').style.display = 'block';
        }

        function openDeletePopSheetModal() {
            const select = document.getElementById('popSheetSelect');
            select.innerHTML = '<option value="">-- Select --</option>';
            Object.keys(data.popSheets).forEach(id => {
                const opt = document.createElement('option');
                opt.value = id;
                opt.textContent = data.popSheets[id].name;
                select.appendChild(opt);
            });
            document.getElementById('deletePopModal').classList.add('active');
        }

        function closeDeletePopSheetModal() {
            document.getElementById('deletePopModal').classList.remove('active');
        }

        function deletePopSheet() {
            const sheetId = document.getElementById('popSheetSelect').value;
            if (!sheetId) {
                alert('Please select a sheet');
                return;
            }
            delete data.popSheets[sheetId];
            saveToStorage();
            closeDeletePopSheetModal();
            updatePopSheetsList();
            alert('‚úÖ Sheet deleted!');
        }

        // AARON SHEET FUNCTIONS
        function updateAaronSheetsList() {
            const list = document.getElementById('aaron-sheets-list');
            const sheets = Object.keys(data.aaronSheets);
            if (sheets.length === 0) {
                list.innerHTML = '<p style="color: #999;">No sales sheets yet.</p>';
                return;
            }
            let html = '';
            sheets.forEach(id => {
                html += `<button class="nav-link" onclick="viewAaronSheet('${id}')" style="margin-bottom: 5px;">${data.aaronSheets[id].name}</button>`;
            });
            list.innerHTML = html;
        }

        function openCreateAaronSheetModal() {
            document.getElementById('aaronSheetName').value = '';
            document.getElementById('createAaronModal').classList.add('active');
        }

        function closeCreateAaronSheetModal() {
            document.getElementById('createAaronModal').classList.remove('active');
        }

        function createAaronSheet() {
            const name = document.getElementById('aaronSheetName').value.trim();
            if (!name) {
                alert('Please enter a sheet name');
                return;
            }
            const sheetId = 'aaron-' + Date.now();
            data.aaronSheets[sheetId] = {
                name,
                postShow: [0, 0, 0, 0, 0, 0, 0, 0]
            };
            alert('‚úÖ Aaron sheet created!');
            saveToStorage();
            closeCreateAaronSheetModal();
            updateAaronSheetsList();
        }

        function viewAaronSheet(sheetId) {
            const sheet = data.aaronSheets[sheetId];
            if (!sheet) return;
            
            let html = `<div class="tab-content active" style="padding: 30px;">
                <button class="nav-link" onclick="backToAaronNav()" style="margin-bottom: 20px;">‚Üê Back to Aaron Navigation</button>
                <h2>${sheet.name} - Sales Tracking</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Knives Brought</th>
                            <th>Post Show</th>
                            <th>Knives Sold</th>
                            <th>Unit Price</th>
                            <th>Line Revenue</th>
                        </tr>
                    </thead>
                    <tbody>`;

            let totalSold = 0, totalRevenue = 0;
            for (let i = 0; i < 8; i++) {
                const brought = parseInt(data.aaronShowTub[i]) || 0;
                const postShow = sheet.postShow[i] || 0;
                const sold = brought - postShow;
                const price = parseFloat(data.aaronPrices[i]) || 0;
                const lineRev = sold * price;
                
                totalSold += sold;
                totalRevenue += lineRev;

                html += `<tr>
                    <td>${PRODUCTS[i]}</td>
                    <td><input type="number" value="${brought}" readonly></td>
                    <td><input type="number" value="${postShow}" data-sheet="${sheetId}" data-idx="${i}" class="post-show-aaron" onchange="updateAaronSheet('${sheetId}', ${i})"></td>
                    <td><input type="number" value="${sold}" readonly></td>
                    <td><input type="number" value="${price.toFixed(2)}" readonly></td>
                    <td><input type="number" value="${lineRev.toFixed(2)}" readonly></td>
                </tr>`;
            }

            const aaronCut = totalSold * 10;
            const popCut = totalRevenue - aaronCut;

            html += `</tbody>
                </table>
                <table>
                    <tbody>
                        <tr class="total-row">
                            <td colspan="3"><strong>Total Knives Sold</strong></td>
                            <td><input type="number" value="${totalSold}" readonly></td>
                            <td colspan="2"></td>
                        </tr>
                        <tr class="revenue-row">
                            <td colspan="4"><strong>Total Revenue</strong></td>
                            <td colspan="2"><input type="number" value="${totalRevenue.toFixed(2)}" readonly></td>
                        </tr>
                        <tr class="cuts-row">
                            <td colspan="4"><strong>Aaron's Cut (@$10/unit)</strong></td>
                            <td colspan="2"><input type="number" value="${aaronCut.toFixed(2)}" readonly></td>
                        </tr>
                        <tr class="cuts-row">
                            <td colspan="4"><strong>Pop's Cut (Remainder)</strong></td>
                            <td colspan="2"><input type="number" value="${popCut.toFixed(2)}" readonly></td>
                        </tr>
                    </tbody>
                </table>
            </div>`;

            document.getElementById('sheet-container').innerHTML = html;
            document.getElementById('sheet-container').style.display = 'block';
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.querySelector('#sheet-container .tab-content').style.display = 'block';
        }

        function updateAaronSheet(sheetId, idx) {
            const input = document.querySelector(`.post-show-aaron[data-sheet="${sheetId}"][data-idx="${idx}"]`);
            const postShow = parseInt(input.value) || 0;
            data.aaronSheets[sheetId].postShow[idx] = postShow;
            saveToStorage();
            viewAaronSheet(sheetId);
        }

        function backToAaronNav() {
            document.getElementById('sheet-container').innerHTML = '';
            document.getElementById('sheet-container').style.display = 'none';
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById('aaron-nav').style.display = 'block';
        }

        function openDeleteAaronSheetModal() {
            const select = document.getElementById('aaronSheetSelect');
            select.innerHTML = '<option value="">-- Select --</option>';
            Object.keys(data.aaronSheets).forEach(id => {
                const opt = document.createElement('option');
                opt.value = id;
                opt.textContent = data.aaronSheets[id].name;
                select.appendChild(opt);
            });
            document.getElementById('deleteAaronModal').classList.add('active');
        }

        function closeDeleteAaronSheetModal() {
            document.getElementById('deleteAaronModal').classList.remove('active');
        }

        function deleteAaronSheet() {
            const sheetId = document.getElementById('aaronSheetSelect').value;
            if (!sheetId) {
                alert('Please select a sheet');
                return;
            }
            delete data.aaronSheets[sheetId];
            saveToStorage();
            closeDeleteAaronSheetModal();
            updateAaronSheetsList();
            alert('‚úÖ Sheet deleted!');
        }

        // INVENTORY MODALS (Simplified)
        function openPopAddModal() {
            alert('Add Pop Inventory (Coming Soon)');
        }

        function openPopMoveModal() {
            alert('Move Pop Inventory (Coming Soon)');
        }

        function openPopRemoveModal() {
            alert('Remove Pop Inventory (Coming Soon)');
        }

        function openAaronAddModal() {
            alert('Add Aaron Inventory (Coming Soon)');
        }

        function openAaronMoveModal() {
            alert('Move Aaron Inventory (Coming Soon)');
        }

        function openAaronRemoveModal() {
            alert('Remove Aaron Inventory (Coming Soon)');
        }

        // STORAGE
        function saveToStorage() {
            // Save prices
            for (let i = 0; i < 8; i++) {
                data.popPrices[i] = parseFloat(document.querySelector(`.pop-price[data-idx="${i}"]`)?.value || 0);
                data.popShowTub[i] = parseInt(document.querySelector(`.pop-show[data-idx="${i}"]`)?.value || 0);
                data.aaronPrices[i] = parseFloat(document.querySelector(`.aaron-price[data-idx="${i}"]`)?.value || 0);
                data.aaronShowTub[i] = parseInt(document.querySelector(`.aaron-show[data-idx="${i}"]`)?.value || 0);
            }
            localStorage.setItem('knifeInventoryData', JSON.stringify(data));
            console.log('‚úÖ Data saved!');
        }

        function loadFromStorage() {
            const saved = localStorage.getItem('knifeInventoryData');
            if (saved) {
                data = JSON.parse(saved);
            }
        }

        // Init
        window.addEventListener('load', initUI);
        window.addEventListener('beforeunload', saveToStorage);
    </script>
</body>
</html>
